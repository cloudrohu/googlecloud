{% extends 'base.html' %}
{% load static %}
{% block title %}Home{% endblock title %}
{% load course_tags %}	

{% load custom_filters %}

{% block content %}

<!-- HERO
    ================================================== -->
    <section class="py-4 py-md-13 position-relative bg-white">
        <!-- Cursor position parallax -->
        <div class="position-absolute right-0 left-0 top-0 bottom-0">
            <div class="cs-parallax">
                <div class="cs-parallax-layer" data-depth="0.1">
                    <img class="img-fluid" src="{% static '' %}assets/img/parallax/layer-01.svg" alt="Layer">
                </div>
                <div class="cs-parallax-layer" data-depth="0.3">
                    <img class="img-fluid" src="{% static '' %}assets/img/parallax/layer-02.svg" alt="Layer">
                </div>
                <div class="cs-parallax-layer" data-depth="0.2">
                    <img class="img-fluid" src="{% static '' %}assets/img/parallax/layer-03.svg" alt="Layer">
                </div>
                <div class="cs-parallax-layer" data-depth="0.2">
                    <img class="img-fluid" src="{% static '' %}assets/img/parallax/layer-04.svg" alt="Layer">
                </div>
                <div class="cs-parallax-layer" data-depth="0.4">
                    <img class="img-fluid" src="{% static '' %}assets/img/parallax/layer-05.svg" alt="Layer">
                </div>
                <div class="cs-parallax-layer" data-depth="0.3">
                    <img class="img-fluid" src="{% static '' %}assets/img/parallax/layer-06.svg" alt="Layer">
                </div>
                <div class="cs-parallax-layer" data-depth="0.2">
                    <img class="img-fluid" src="{% static '' %}assets/img/parallax/layer-07.svg" alt="Layer">
                </div>
                <div class="cs-parallax-layer" data-depth="0.2">
                    <img class="img-fluid" src="{% static '' %}assets/img/parallax/layer-08.svg" alt="Layer">
                </div>
                <div class="cs-parallax-layer" data-depth="0.4">
                    <img class="img-fluid" src="{% static '' %}assets/img/parallax/layer-09.svg" alt="Layer">
                </div>
                <div class="cs-parallax-layer" data-depth="0.3">
                    <img class="img-fluid" src="{% static '' %}assets/img/parallax/layer-10.svg" alt="Layer">
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row align-items-center">
                <div class="col-12 col-md-5 col-lg-6 order-md-2" data-aos="fade-in" data-aos-delay="50">

                    <!-- Image -->
                    <img src="{% static '' %}assets/img/illustrations/illustration-1.png" class="img-fluid mw-md-150 mw-lg-130 mb-6 mb-md-0" alt="...">

                </div>
                <div class="col-12 col-md-7 col-lg-6 order-md-1 px-md-0">
                    <!-- Heading -->
                    <h1 class="display-2" data-aos="fade-left" data-aos-duration="150">
                        The new way to cloud <span class="text-orange fw-bold">starts here</span>
                    </h1>

                    <!-- Text -->
                    <p class="lead pe-md-8 text-capitalize" data-aos="fade-up" data-aos-duration="200">
                        Build apps fast, leverage generative AI, and analyze data in seconds—all with Google-grade security.
                    </p>

                    <!-- Buttons -->
                    <a href="/" class="btn btn-wide btn-slide slide-primary shadow mb-4 mb-md-0 me-md-5" data-aos-duration="200" data-aos="fade-up">GET STARTED</a>
                    <a href="/" class="btn btn-primary btn-wide lift d-none d-lg-inline-block" data-aos-duration="200" data-aos="fade-up">Access over 150</a>

                </div>
            </div> <!-- / .row -->
        </div> <!-- / .container -->
    </section>
      <!-- PAGE TITLE
    ================================================== -->
    <header class="py2 py-md-5" style="background-image: none;">
        
    </header>





    <!-- FEATURED PRODUCT
    ================================================== -->
    <section class="pt-5 pb-9 py-md-11 bg-white">
        <div class="container container-wd">
            <div class="row align-items-end mb-7">
                
                <div class="col-xl-auto">
                    <!-- Nav -->
                    <div class="nav justify-content-lg-start justify-content-xl-center justify-content-center tab-nav-1" id="pills-tab" role="tablist">
                        <a class="btn-sm btn-pill me-1 mb-1 text-dark fw-medium px-6 active" id="pills-all-tab" data-bs-toggle="tab" href="#pills-all" role="tab" aria-controls="pills-all" aria-selected="true">
                            All 
                        </a>
                        {% for i in cotegory %}
                        <a class="btn-sm btn-pill me-1 mb-1 text-dark fw-medium px-6" id="pills-art-tab" data-bs-toggle="tab" href="#pills-{{i.id}}" role="tab" aria-controls="pills-{{i.id}}" aria-selected="false">
                            {{i.name}}
                        </a>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <div class="tab-content flickity-tab" id="pills-tabContent">

            <!-- All Products -->
            <div class="tab-pane fade show active" id="pills-all" role="tabpanel" aria-labelledby="pills-all-tab">
                <!-- Items -->
                <div class="mx-n4 flickity-button-outset" 
                    data-flickity='{"pageDots": true, "prevNextButtons": true, "cellAlign": "left", "wrapAround": true, "imagesLoaded": true}'>
                    
                    {% for i in product %}
                    {% with price=i.prices.first %}
                    {% if price %}
                    <div class="col-12 col-md-6 col-xl-4 col-wd-3 pb-4 pb-md-7" style="padding-right:15px;padding-left:15px;">
                        <!-- Card -->
                        <div class="card border shadow p-2 rounded-lg sk-fade">
                            <!-- Image -->
                            <div class="card-zoom position-relative">
                                <div class="badge-float sk-fade-top top-0 right-0 mt-4 me-4">
                                    <a href="{{i.get_absolute_url}}" 
                                    class="btn btn-xs btn-dark text-white rounded-circle lift opacity-dot-7 me-1 p-2 d-inline-flex justify-content-center align-items-center w-36 h-36">
                                        <!-- Eye Icon -->
                                        <svg width="18" height="18" viewBox="0 0 18 18"><path d="M17.88 8.65C17.72 8.43 13.89 3.26 9 3.26 4.10 3.26.27 8.43.11 8.65a.5.5 0 0 0 0 .70C.27 9.57 4.10 14.73 9 14.73c4.89 0 8.72-5.16 8.88-5.38a.5.5 0 0 0 0-.70ZM9 13.55C5.39 13.55 2.27 10.12 1.35 9c.92-1.12 4.04-4.55 7.65-4.55S15.73 7.88 16.65 9c-.92 1.12-4.04 4.55-7.65 4.55Z"/><path d="M9 5.44A3.56 3.56 0 1 0 9 12.56 3.56 3.56 0 0 0 9 5.44Zm0 5.93A2.37 2.37 0 1 1 9 6.63a2.37 2.37 0 0 1 0 4.74Z"/></svg>
                                    </a>
                                </div>

                                <a href="{{i.get_absolute_url}}" class="card-img sk-thumbnail img-ratio-9 d-block">
                                    <img class="rounded shadow-light-lg" src="{{i.featured_image.url}}" alt="{{i.title}}">
                                </a>

                            </div>

                            <!-- Footer -->
                            <div class="card-footer px-2 pb-2 mb-1 pt-4 position-relative">
                                <!-- Preheading -->
                                <a href="{{i.get_absolute_url}}">
                                    <span class="mb-1 d-inline-block text-gray-800">{{i.category.name}}</span>
                                </a>

                                <!-- Heading -->
                                <div class="position-relative">
                                    <a href="{{i.get_absolute_url}}" class="d-block stretched-link">
                                        <h4 class="line-clamp-2 mb-2">{{i.title}}</h4>
                                    </a>

                                    <div class="row mx-n2 align-items-end">
                                        <div class="col px-2">
                                            <ul class="nav mx-n3">
                                                <li class="nav-item px-3">
                                                    {% if price.discount %}
                                                    <div class="d-flex align-items-center">
                                                        <del class="font-size-sm">₹{{price.total_price}}</del>
                                                    </div>
                                                    {% endif %}
                                                </li>
                                            </ul>
                                        </div>

                                        <hr>

                                        {% with monthly=i.best_monthly_price.0 discounted=i.best_monthly_price.1 max_discount=i.best_monthly_price.2 %}
                                        <div class="pricing d-flex justify-content-between align-items-center">
                                            {% if max_discount > 0 %}
                                                <!-- Left Side (Original Price) -->
                                                <del class="fw-bold" style="color:#e63946; font-size:1rem; margin:0;">
                                                    ₹{{ monthly|format_price }}
                                                </del>

                                                <!-- Right Side (Discounted Price + Badge) -->
                                                <div class="d-flex align-items-center" style="gap:10px;">
                                                    <span class="fw-bold h5" style="color:#000; margin:0;">
                                                        ₹{{ discounted|format_price }}/mo
                                                    </span>
                                                    <span class="badge px-3 py-2" style="background-color:#28a745; color:#fff; font-size:0.9rem; margin:0;">
                                                        SAVE {{ max_discount }}%
                                                    </span>
                                                </div>
                                            {% else %}
                                                <span class="fw-bold h5" style="color:#000; margin:0;">
                                                    ₹ {{ monthly|format_price }}/mo
                                                </span>
                                            {% endif %}
                                        </div>
                                        {% endwith %}

                                        <div class="text-center px-3 mb-4 mt-4">
                                        <a href="{{ product.get_absolute_url }}"
                                            class="btn w-100 fw-bold stylish-btn">
                                            BUY NOW
                                        </a>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    {% endwith %}
                    {% endfor %}
                </div>
            </div>

    <!-- Category wise tabs -->
    {% for cat in cotegory %}
    <div class="tab-pane fade" id="pills-{{cat.id}}" role="tabpanel" aria-labelledby="pills-{{cat.id}}-tab">
        <div class="mx-n4 flickity-button-outset" 
             data-flickity='{"pageDots": true, "prevNextButtons": true, "cellAlign": "left", "wrapAround": true, "imagesLoaded": true}'>

            {% for i in product %}
            {% if i.category.id == cat.id %}
            {% with price=i.prices.first %}
            {% if price %}
            <div class="col-12 col-md-6 col-xl-4 col-wd-3 pb-4 pb-md-7" style="padding-right:15px;padding-left:15px;">
                <!-- Card (same as above, reuse block) -->
                <div class="card border shadow p-2 rounded-lg sk-fade">
                    <div class="card-zoom position-relative">
                        <a href="{{i.get_absolute_url}}" class="card-img sk-thumbnail img-ratio-9 d-block">
                            <img class="rounded shadow-light-lg" src="{{i.featured_image.url}}" alt="{{i.title}}">
                        </a>
                        {% if price.discount %}
                        <span class="badge sk-fade-bottom badge-lg badge-primary badge-pill badge-float bottom-0 left-0 mb-4 ms-4 fw-bold">
                            <span class="text-white text-uppercase fw-bold font-size-xs">
                                Discount {{price.discount}}%
                            </span>
                        </span>
                        {% endif %}
                    </div>

                    <div class="card-footer px-2 pb-2 mb-1 pt-4 position-relative">
                        <a href="{{i.get_absolute_url}}">
                            <span class="mb-1 d-inline-block text-gray-800">{{i.category.name}}</span>
                        </a>
                        <div class="position-relative">
                            <a href="{{i.get_absolute_url}}" class="d-block stretched-link">
                                <h4 class="line-clamp-2 mb-2">{{i.title}}</h4>
                            </a>

                            <hr style="width: 100%;">

                            {% with monthly=i.best_monthly_price.0 discounted=i.best_monthly_price.1 max_discount=i.best_monthly_price.2 %}
                                        <div class="pricing d-flex justify-content-between align-items-center">
                                            {% if max_discount > 0 %}
                                                <!-- Left Side (Original Price) -->
                                                <del class="fw-bold" style="color:#e63946; font-size:1rem; margin:0;">
                                                    ₹{{ monthly|format_price }}
                                                </del>

                                                <!-- Right Side (Discounted Price + Badge) -->
                                                <div class="d-flex align-items-center" style="gap:10px;">
                                                    <span class="fw-bold h5" style="color:#000; margin:0;">
                                                        ₹{{ discounted|format_price }}/mo
                                                    </span>
                                                    <span class="badge px-3 py-2" style="background-color:#28a745; color:#fff; font-size:0.9rem; margin:0;">
                                                        SAVE {{ max_discount }}%
                                                    </span>
                                                </div>
                                            {% else %}
                                                <span class="fw-bold h5" style="color:#000; margin:0;">
                                                    ₹ {{ monthly|format_price }}/mo
                                                </span>
                                            {% endif %}
                                        </div>
                                        {% endwith %}

                      <!-- Button -->
            <div class="text-center px-3 mb-4 mt-4">
            <a href="{{ product.get_absolute_url }}"
                class="btn w-100 fw-bold stylish-btn">
                BUY NOW
            </a>
            </div>

            <style>
            .stylish-btn {
            background: linear-gradient(135deg, #28a745, #218838);
            color: #fff !important;
            border: none;
            border-radius: 30px;
            padding: 12px 10px;
            font-size: 1.1rem;
            letter-spacing: 1px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease-in-out;
            margin-top: 22px;
            }

            .stylish-btn:hover {
            background: linear-gradient(135deg, #218838, #1e7e34);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
            }

            .stylish-btn:active {
            transform: translateY(-1px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            }
            </style>


                            

                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endwith %}
            {% endif %}
            {% endfor %}
        </div>
    </div>
    {% endfor %}
</div>



        </div>
    </section>
    <!-- CATEGORIES
    ================================================== -->
    <section class="py-5 py-md-8 bg-white">
        <div class="container container-wd">
            <div class="row align-items-end mb-md-7 mb-4">
                
                <div class="col-md-auto">
                    <a href="#" class="d-flex align-items-center fw-medium">
                        Browse All
                        <div class="ms-2 d-flex">
                            <!-- Icon -->
                            <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M7.7779 4.6098L3.32777 0.159755C3.22485 0.0567475 3.08745 0 2.94095 0C2.79445 0 2.65705 0.0567475 2.55412 0.159755L2.2264 0.487394C2.01315 0.700889 2.01315 1.04788 2.2264 1.26105L5.96328 4.99793L2.22225 8.73895C2.11933 8.84196 2.0625 8.97928 2.0625 9.1257C2.0625 9.27228 2.11933 9.4096 2.22225 9.51269L2.54998 9.84025C2.65298 9.94325 2.7903 10 2.9368 10C3.0833 10 3.2207 9.94325 3.32363 9.84025L7.7779 5.38614C7.88107 5.2828 7.93774 5.14484 7.93741 4.99817C7.93774 4.85094 7.88107 4.71305 7.7779 4.6098Z" fill="currentColor"/>
                            </svg>

                        </div>
                    </a>
                </div>
            </div>

            <div class="row row-cols-2 row-cols-md-3 row-cols-xl-5 row-cols-wd-6">
                
                {% for i in cotegory %}
                <div class="col mb-md-6 mb-4 px-2 px-md-4">
                    <!-- Card -->
                    <a href="#" class="card bg-lavender hover-gradient-1 rounded-lg p-md-5 p-3 h-210p text-center lift">
                        <!-- Image -->                        
                        <div class="mt-7 text-gigas display-4">
                            <i class="{{i.icon}}"></i>

                            <!-- Footer -->
                            <div class="card-footer px-0 pb-0 pt-4">
                                <h5 class="mb-0 line-clamp-2 text-gigas">{{i.name}}</h5>
                            </div>
                        </div>                       
                    </a>                    
                </div>           
                {% endfor %}

            </div>
        </div>
    </section>

  

    <!-- FEATURES GENERAL
    ================================================== -->
    <section class="py-5 py-md-8 bg-white">
        <div class="container container-wd">
            <div class="row align-items-center mb-6">
                <div class="col-md-6 order-2" data-aos="fade-left">
                    <h2>Google Cloud Innovators Plus</h2>
                    <p class="line-clamp-3 line-height-md">Innovators Plus offers over $1,500 USD in developer benefits for only $299 USD. Access the entire catalog of Google Cloud Skills Boost on-demand training, up to $1000 USD Google Cloud credits, a certification voucher, special access to Google Cloud experts and execs, and more (subject to eligibility limitations).</p>
                </div>

                <div class="col-md-6 order-1 mb-8 mb-md-0" data-aos="zoom-in">
                    <img class="img-fluid" src="{% static '' %}assets/img/photos/google-cloud-img.jpg" alt="...">
                </div>
            </div>

            <div class="row align-items-center">
                <div class="col-md-6 order-2 order-md-1" data-aos="fade-right">
                    <h2>Why Google for Startups Cloud Program</h2>
                    <p class="line-clamp-3 line-height-md">Scale your startup faster and smarter with Google Cloud credits, technical training, startup experts, curated resources, plus AI and Web3 specific benefits.</p>
                </div>

                <div class="col-md-6 order-1 mb-8 mb-md-0 order-md-2 text-right" data-aos="zoom-in">
                    <img class="img-fluid" src="{% static '' %}assets/img/photos/1691568005689.png" alt="...">
                </div>
            </div>
        </div>
    </section>

    <!-- CALL ACTION
    ================================================== -->
    <section class="py-6 py-md-10 bg-white">
        <div class="container container-wd">
            <div class="bg-gradient-1 rounded-lg py-md-9 py-8 px-md-8 px-5">
                <div class="row align-items-center">
                    <div class="col-xl-7 mb-4 mb-xl-0 text-capitalize">
                        <h1 class="text-white mb-3">Subscribe our newsletter</h1>
                        <p class="font-size-lg text-white mb-3">Your download should start automatically, if not  Click here. Should I give up, huh?.</p>
                    </div>

                    <div class="col-xl-5">
                        <form>
                            <div class="input-group d-block d-md-flex bg-white p-1 rounded-lg">
                                <input type="text" class="form-control w-100 w-md-auto form-control-sm rounded-lg border-0 placeholder-1" placeholder="Enter your email" aria-label="Enter your email" aria-describedby="button-addon2">
                                <div class="input-group-append ms-0">
                                    <button class="btn btn-sm btn-dark w-100 w-md-auto btn-wide rounded-lg border-0" type="button" id="button-addon2">Subscribe</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

<section class="py-5 bg-light">
  <div class="container">

    <!-- Region Tabs -->
    <ul class="nav nav-pills justify-content-center mb-5" id="regionTab" role="tablist">
      {% for region in regions %}
      <li class="nav-item" role="presentation">
        <button class="nav-link {% if forloop.first %}active{% endif %}" 
                id="tab-{{ region.id }}" 
                data-bs-toggle="tab" 
                data-bs-target="#region-{{ region.id }}" 
                type="button" 
                role="tab">
          {% if region.logo %}
            <img src="{{ region.logo.url }}" class="me-1" style="height:20px; width:20px;" alt="{{ region.name }}">
          {% endif %}
          {{ region.name }}
        </button>
      </li>
      {% endfor %}
    </ul>

    <!-- Tab Content -->
    <div class="tab-content" id="regionTabContent">
      {% for region in regions %}
      <div class="tab-pane fade {% if forloop.first %}show active{% endif %}" 
           id="region-{{ region.id }}" 
           role="tabpanel" 
           aria-labelledby="tab-{{ region.id }}">

        <div class="row g-4">
          {% for price in region.price_set.all %}
          {% with product=price.product %}
          <div class="col-md-3">
            <div class="card h-100 shadow-lg border-0 pricing-card">

              <!-- Header -->
              <div class="card-header text-center bg-white border-0 pt-4">
                {% if price.discount %}
                  <span class="badge bg-danger px-3 py-2">-{{ price.discount|floatformat:0 }}% OFF</span>
                {% endif %}
                <h5 class="mt-3 fw-bold">{{ product.title }}</h5>
                <p class="text-muted small">{{ product.description|truncatewords:8 }}</p>
              </div>

              <!-- Price -->
              <div class="text-center py-3">
                {% if price.discount %}
                  <div>
                    <del class="text-danger me-2">₹{{ price.monthly }}</del>
                    <span class="h3 fw-bold text-dark">₹{{ price.discounted_price }}/mo</span>
                  </div>
                  <p class="small text-muted mt-1">Renews at ₹{{ price.total_price }}/mo</p>
                {% else %}
                  <span class="h3 fw-bold text-dark">₹{{ price.monthly }}/mo</span>
                  <p class="small text-muted mt-1">Standard pricing</p>
                {% endif %}
              </div>

              <!-- Button -->
              <div class="text-center px-3 mb-3">
                <a href="{{ product.get_absolute_url }}" class="btn btn-warning w-100 fw-bold">BUY NOW</a>
              </div>

              <!-- Features -->
              <ul class="list-group list-group-flush text-start">
                {% for f in product.features.all %}
                  <li class="list-group-item">
                    <i class="bi bi-check2-circle text-success me-2"></i>{{ f.name }}
                  </li>
                {% empty %}
                  <li class="list-group-item text-muted">No features listed</li>
                {% endfor %}
              </ul>

            </div>
          </div>
          {% endwith %}
          {% empty %}
          <div class="col-12 text-center text-muted">
            No plans available in {{ region.name }}
          </div>
          {% endfor %}
        </div>

      </div>
      {% endfor %}
    </div>
  </div>
</section>


{% endblock content %}